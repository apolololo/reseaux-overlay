<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTube BRB Screen</title>
    <link rel="stylesheet" href="overlay.css">
    <link rel="stylesheet" href="video-layout.css">
</head>
<body class="youtube-overlay">
    <div class="container">
        <div class="message-container">
            <h1>Je reviens dans quelques minutes</h1>
            <div class="timer" id="timer">00:00</div>
        </div>

        <div class="channel-info">
            <img id="channel-image" src="" alt="Channel Image" class="channel-image">
            <div class="channel-details">
                <h2 id="channel-name">Chargement...</h2>
                <p class="status">En pause</p>
            </div>
        </div>
    </div>

    <script>
        // Récupération des informations YouTube
        const channelInfo = JSON.parse(localStorage.getItem('youtube_channel_info') || '{}');
        if (channelInfo) {
            document.getElementById('channel-name').textContent = channelInfo.snippet?.title || 'Chaîne YouTube';
            document.getElementById('channel-image').src = channelInfo.snippet?.thumbnails?.default?.url || '';
        }

        // Timer
        function startTimer(duration) {
            let timer = duration;
            const display = document.getElementById('timer');
            
            const countdown = setInterval(() => {
                const minutes = parseInt(timer / 60, 10);
                const seconds = parseInt(timer % 60, 10);
                
                display.textContent = minutes.toString().padStart(2, '0') + ':' + 
                                    seconds.toString().padStart(2, '0');
                
                if (--timer < 0) {
                    clearInterval(countdown);
                    display.textContent = "De retour !";
                }
            }, 1000);
        }

        // Démarrer un compte à rebours de 5 minutes
        startTimer(5 * 60);
    </script>
</body>
</html>
